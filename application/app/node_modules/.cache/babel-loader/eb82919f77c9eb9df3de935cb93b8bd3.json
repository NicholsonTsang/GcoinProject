{"remainingRequest":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/babel-loader/lib/index.js!/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/eslint-loader/index.js??ref--13-0!/Users/mac/文稿/fyp/GcoinProject/application/app/js/nodeRegistration.js","dependencies":[{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/js/nodeRegistration.js","mtime":1605377590641},{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/cache-loader/dist/cjs.js","mtime":1605374860662},{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/babel-loader/lib/index.js","mtime":1605374860476},{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/eslint-loader/index.js","mtime":1605374862725}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21hYy9cdTY1ODdcdTdBM0YvZnlwL0djb2luUHJvamVjdC9hcHBsaWNhdGlvbi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgV2ViMyBmcm9tICJ3ZWIzIjsKaW1wb3J0IE5vZGVSZWdpc3RyYXRpb25BcnRpZmFjdCBmcm9tICIuLi8uLi9idWlsZC9jb250cmFjdHMvTm9kZVJlZ2lzdHJhdGlvbi5qc29uIjsKdmFyIE5vZGVSZWdpc3RyYXRpb24gPSB7CiAgd2ViMzogbnVsbCwKICBhY2NvdW50OiBudWxsLAogIG1ldGE6IG51bGwsCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfc3RhcnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB3ZWIzLCBuZXR3b3JrSWQsIGRlcGxveWVkTmV0d29yazsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHdlYjMgPSB0aGlzLndlYjM7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHdlYjMuZXRoLm5ldC5nZXRJZCgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIG5ldHdvcmtJZCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGVwbG95ZWROZXR3b3JrID0gTm9kZVJlZ2lzdHJhdGlvbkFydGlmYWN0Lm5ldHdvcmtzW25ldHdvcmtJZF07CiAgICAgICAgICAgICAgdGhpcy5tZXRhID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KE5vZGVSZWdpc3RyYXRpb25BcnRpZmFjdC5hYmksIGRlcGxveWVkTmV0d29yay5hZGRyZXNzKTsgLy8gZ2V0IGFjY291bnQKCiAgICAgICAgICAgICAgdGhpcy5zZXRBY2NvdW50KDApOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiQ291bGQgbm90IGNvbm5lY3QgdG8gY29udHJhY3Qgb3IgY2hhaW4uIik7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzEsIDEwXV0pOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICByZXR1cm4gX3N0YXJ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIHN0YXJ0OwogIH0oKSwKICB2ZXJpZnlPdHA6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdmVyaWZ5T3RwID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIG90cCwgdmVyaWZ5T3RwOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG90cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2ZXJpZnlPdHAtb3RwIikudmFsdWU7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIlByb2Nlc3NpbmcuLi4gKHBsZWFzZSB3YWl0KSIpOwogICAgICAgICAgICAgIHZlcmlmeU90cCA9IHRoaXMubWV0YS5tZXRob2RzLnZlcmlmeU90cDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHZlcmlmeU90cChvdHApLmNhbGwoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cygiQ29tcGxldGUhIik7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gdmVyaWZ5T3RwKCkgewogICAgICByZXR1cm4gX3ZlcmlmeU90cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiB2ZXJpZnlPdHA7CiAgfSgpLAogIHNldHRpbmdPdHBIYXNoVmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfc2V0dGluZ090cEhhc2hWYWx1ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBhcHBsaWNhbnQsIGhhc2hlZE9wdCwgc2V0dGluZ090cEhhc2hWYWx1ZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhcHBsaWNhbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2V0T3RwLWFwcGxpY2FudCIpLnZhbHVlOwogICAgICAgICAgICAgIGhhc2hlZE9wdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZXRPdHAtaGFzaGVkT3B0IikudmFsdWU7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIlByb2Nlc3NpbmcuLi4gKHBsZWFzZSB3YWl0KSIpOwogICAgICAgICAgICAgIHNldHRpbmdPdHBIYXNoVmFsdWUgPSB0aGlzLm1ldGEubWV0aG9kcy5zZXR0aW5nT3RwSGFzaFZhbHVlOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ090cEhhc2hWYWx1ZShhcHBsaWNhbnQsIGhhc2hlZE9wdCkuY2FsbCgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCJDb21wbGV0ZSEiKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBzZXR0aW5nT3RwSGFzaFZhbHVlKCkgewogICAgICByZXR1cm4gX3NldHRpbmdPdHBIYXNoVmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gc2V0dGluZ090cEhhc2hWYWx1ZTsKICB9KCksCiAgYWRkaW5nUGVlcjogZnVuY3Rpb24gKCkgewogICAgdmFyIF9hZGRpbmdQZWVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGFwcGxpY2FudCwgYWRkaW5nUGVlcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhcHBsaWNhbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUGVlci1hcHBsaWNhbnQiKS52YWx1ZTsKICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cygiUHJvY2Vzc2luZy4uLiAocGxlYXNlIHdhaXQpIik7CiAgICAgICAgICAgICAgYWRkaW5nUGVlciA9IHRoaXMubWV0YS5tZXRob2RzLmFkZGluZ1BlZXI7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBhZGRpbmdQZWVyKGFwcGxpY2FudCkuY2FsbCgpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCJDb21wbGV0ZSEiKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBhZGRpbmdQZWVyKCkgewogICAgICByZXR1cm4gX2FkZGluZ1BlZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gYWRkaW5nUGVlcjsKICB9KCksCiAgc2V0SGFzaGVkQWRtaW5QVzogZnVuY3Rpb24gKCkgewogICAgdmFyIF9zZXRIYXNoZWRBZG1pblBXID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIGhhc2hlZFB3LCBzZXRIYXNoZWRBZG1pblBXOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGhhc2hlZFB3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNldEhhc2hlZEFkbWluUFctaGFzaGVkUHciKS52YWx1ZTsKICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cygiUHJvY2Vzc2luZy4uLiAocGxlYXNlIHdhaXQpIik7CiAgICAgICAgICAgICAgc2V0SGFzaGVkQWRtaW5QVyA9IHRoaXMubWV0YS5tZXRob2RzLnNldEhhc2hlZEFkbWluUFc7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBzZXRIYXNoZWRBZG1pblBXKGhhc2hlZFB3KS5jYWxsKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIkNvbXBsZXRlISIpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIHNldEhhc2hlZEFkbWluUFcoKSB7CiAgICAgIHJldHVybiBfc2V0SGFzaGVkQWRtaW5QVy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBzZXRIYXNoZWRBZG1pblBXOwogIH0oKSwKICBkZWxldGVNYXBwaW5nRWxlbWVudDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9kZWxldGVNYXBwaW5nRWxlbWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgIHZhciBhZGRyLCBkZWxldGVNYXBwaW5nRWxlbWVudDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhZGRyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUVsZS1hZGRyIikudmFsdWU7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIlByb2Nlc3NpbmcuLi4gKHBsZWFzZSB3YWl0KSIpOwogICAgICAgICAgICAgIGRlbGV0ZU1hcHBpbmdFbGVtZW50ID0gdGhpcy5tZXRhLm1ldGhvZHMuZGVsZXRlTWFwcGluZ0VsZW1lbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBkZWxldGVNYXBwaW5nRWxlbWVudChhZGRyKS5jYWxsKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIkNvbXBsZXRlISIpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGRlbGV0ZU1hcHBpbmdFbGVtZW50KCkgewogICAgICByZXR1cm4gX2RlbGV0ZU1hcHBpbmdFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGRlbGV0ZU1hcHBpbmdFbGVtZW50OwogIH0oKSwKICBhZGRyZXNzTmV0d29ya1N0YXRlOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2FkZHJlc3NOZXR3b3JrU3RhdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICB2YXIgYWRkciwgYWRkcmVzc05ldHdvcmtTdGF0ZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhZGRyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZHJTdGF0ZS1hZGRyIikudmFsdWU7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIlByb2Nlc3NpbmcuLi4gKHBsZWFzZSB3YWl0KSIpOwogICAgICAgICAgICAgIGFkZHJlc3NOZXR3b3JrU3RhdGUgPSB0aGlzLm1ldGEubWV0aG9kcy5hZGRyZXNzTmV0d29ya1N0YXRlOwogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYWRkcmVzc05ldHdvcmtTdGF0ZShhZGRyKS5jYWxsKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIkNvbXBsZXRlISIpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGFkZHJlc3NOZXR3b3JrU3RhdGUoKSB7CiAgICAgIHJldHVybiBfYWRkcmVzc05ldHdvcmtTdGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBhZGRyZXNzTmV0d29ya1N0YXRlOwogIH0oKSwKICBhZGRyZXNzT3RwaGFzaGVkVmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfYWRkcmVzc090cGhhc2hlZFZhbHVlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgdmFyIGFkZHIsIGFkZHJlc3NPdHBoYXNoZWRWYWx1ZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhZGRyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZHJPcHQtYWRkciIpLnZhbHVlOwogICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCJQcm9jZXNzaW5nLi4uIChwbGVhc2Ugd2FpdCkiKTsKICAgICAgICAgICAgICBhZGRyZXNzT3RwaGFzaGVkVmFsdWUgPSB0aGlzLm1ldGEubWV0aG9kcy5hZGRyZXNzT3RwaGFzaGVkVmFsdWU7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBhZGRyZXNzT3RwaGFzaGVkVmFsdWUoYWRkcikuY2FsbCgpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCJDb21wbGV0ZSEiKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBhZGRyZXNzT3RwaGFzaGVkVmFsdWUoKSB7CiAgICAgIHJldHVybiBfYWRkcmVzc090cGhhc2hlZFZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGFkZHJlc3NPdHBoYXNoZWRWYWx1ZTsKICB9KCksCiAgc2V0QWNjb3VudDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9zZXRBY2NvdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOShpZHgpIHsKICAgICAgdmFyIHdlYjMsIGFjY291bnRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHdlYjMgPSB0aGlzLndlYjM7CiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiB3ZWIzLmV0aC5nZXRBY2NvdW50cygpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGFjY291bnRzID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChpZHggPD0gYWNjb3VudHMubGVuZ3RoICYmIGlkeCA+PSAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQgPSBhY2NvdW50c1tpZHhdOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQgPSBhY2NvdW50c1swXTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gc2V0QWNjb3VudChfeCkgewogICAgICByZXR1cm4gX3NldEFjY291bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gc2V0QWNjb3VudDsKICB9KCksCiAgc2V0U3RhdHVzOiBmdW5jdGlvbiBzZXRTdGF0dXMobWVzc2FnZSkgewogICAgLy8gdXBkYXRlIHBhZ2UKICAgIHZhciBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzIik7CiAgICBzdGF0dXMuaW5uZXJIVE1MID0gbWVzc2FnZTsKICB9Cn07CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24gKCkgewogIE5vZGVSZWdpc3RyYXRpb24ud2ViMyA9IG5ldyBXZWIzKG5ldyBXZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIoImh0dHA6Ly8xMjcuMC4wLjE6NzU0NSIpKTsKICBOb2RlUmVnaXN0cmF0aW9uLnN0YXJ0KCk7Cn0pOw=="},{"version":3,"sources":["/Users/mac/文稿/fyp/GcoinProject/application/app/js/nodeRegistration.js"],"names":["Web3","NodeRegistrationArtifact","NodeRegistration","web3","account","meta","start","eth","net","getId","networkId","deployedNetwork","networks","Contract","abi","address","setAccount","console","error","verifyOtp","otp","document","getElementById","value","setStatus","methods","call","settingOtpHashValue","applicant","hashedOpt","addingPeer","setHashedAdminPW","hashedPw","deleteMappingElement","addr","addressNetworkState","addressOtphashedValue","idx","getAccounts","accounts","length","message","status","innerHTML","window","addEventListener","providers","HttpProvider"],"mappings":"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","sourcesContent":["import Web3 from \"web3\";\nimport NodeRegistrationArtifact from \"../../build/contracts/NodeRegistration.json\";\n\nconst NodeRegistration = {\n\tweb3: null,\n\taccount: null,\n\tmeta: null,\n\n\tstart: async function() {\n\t\tconst { web3 } = this;\n\n\t\ttry {\n\t\t\t// get contract instance\n\t\t\tconst networkId = await web3.eth.net.getId();\n\t\t\tconst deployedNetwork = NodeRegistrationArtifact.networks[networkId];\n\t\t\tthis.meta = new web3.eth.Contract(\n\t\t\t\tNodeRegistrationArtifact.abi, \n\t\t\t\tdeployedNetwork.address,\n\t\t\t);\n\n\t\t\t// get account\n\t\t\tthis.setAccount(0);\n\t\t\t\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Could not connect to contract or chain.\");\n\t\t}\n\t},\n\n\tverifyOtp: async function() {\n\t\tconst otp = document.getElementById(\"verifyOtp-otp\").value;\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { verifyOtp } = this.meta.methods;\n\t\tawait verifyOtp(otp).call();\n\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\tsettingOtpHashValue: async function() {\n\t\tconst applicant = document.getElementById(\"setOtp-applicant\").value;\n\t\tconst hashedOpt = document.getElementById(\"setOtp-hashedOpt\").value;\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { settingOtpHashValue } = this.meta.methods;\n\t\tawait settingOtpHashValue(applicant, hashedOpt).call();\n\t\t\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\taddingPeer: async function() {\n\t\tconst applicant = document.getElementById(\"addPeer-applicant\").value;\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { addingPeer } = this.meta.methods;\n\t\tawait addingPeer(applicant).call();\n\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\tsetHashedAdminPW: async function() {\n\t\tconst hashedPw = document.getElementById(\"setHashedAdminPW-hashedPw\").value;\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { setHashedAdminPW } = this.meta.methods;\n\t\tawait setHashedAdminPW(hashedPw).call();\n\t\t\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\tdeleteMappingElement: async function() {\n\t\tconst addr = document.getElementById(\"deleteEle-addr\").value;\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { deleteMappingElement } = this.meta.methods;\n\t\tawait deleteMappingElement(addr).call();\n\t\t\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\taddressNetworkState: async function() {\n\t\tconst addr = document.getElementById(\"addrState-addr\").value;\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { addressNetworkState } = this.meta.methods;\n\t\tawait addressNetworkState(addr).call();\n\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\taddressOtphashedValue: async function() {\n\t\tconst addr = document.getElementById(\"addrOpt-addr\").value;\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { addressOtphashedValue } = this.meta.methods;\n\t\tawait addressOtphashedValue(addr).call();\n\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\tsetAccount: async function(idx) {\n\t\tconst { web3 } = this;\n\t\t\n\t\tconst accounts = await web3.eth.getAccounts();\n\t\tif (idx <= accounts.length && idx >= 0) {\n\t\t\tthis.account = accounts[idx];\n\t\t} else {\n\t\t\tthis.account = accounts[0];\n\t\t}\n\t},\n\n\tsetStatus: function(message) {\n\t\t// update page\n\t\tconst status = document.getElementById(\"status\");\n\t\tstatus.innerHTML = message;\n\t},\n\n}\n\nwindow.addEventListener(\"load\", function() {\n\tNodeRegistration.web3 = new Web3(\n\t\tnew Web3.providers.HttpProvider(\"http://127.0.0.1:7545\"),\n\t);\n\n\tNodeRegistration.start();\n})\n"]}]}
{"remainingRequest":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/babel-loader/lib/index.js!/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/eslint-loader/index.js??ref--13-0!/Users/mac/文稿/fyp/GcoinProject/application/app/js/gcoin.js","dependencies":[{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/js/gcoin.js","mtime":1605433480082},{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/cache-loader/dist/cjs.js","mtime":1605374860662},{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/babel-loader/lib/index.js","mtime":1605374860476},{"path":"/Users/mac/文稿/fyp/GcoinProject/application/app/node_modules/eslint-loader/index.js","mtime":1605374862725}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21hYy9cdTY1ODdcdTdBM0YvZnlwL0djb2luUHJvamVjdC9hcHBsaWNhdGlvbi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgV2ViMyBmcm9tICJ3ZWIzIjsKaW1wb3J0IEdjb2luQXJ0aWZhY3QgZnJvbSAiLi4vLi4vYnVpbGQvY29udHJhY3RzL0djb2luLmpzb24iOwp2YXIgR2NvaW4gPSB7CiAgd2ViMzogbnVsbCwKICBhY2NvdW50OiBudWxsLAogIG1ldGE6IG51bGwsCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfc3RhcnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB3ZWIzLCBuZXR3b3JrSWQsIGRlcGxveWVkTmV0d29yazsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHdlYjMgPSB0aGlzLndlYjM7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHdlYjMuZXRoLm5ldC5nZXRJZCgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIG5ldHdvcmtJZCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGVwbG95ZWROZXR3b3JrID0gR2NvaW5BcnRpZmFjdC5uZXR3b3Jrc1tuZXR3b3JrSWRdOwogICAgICAgICAgICAgIHRoaXMubWV0YSA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChHY29pbkFydGlmYWN0LmFiaSwgZGVwbG95ZWROZXR3b3JrLmFkZHJlc3MpOyAvLyBnZXQgYWNjb3VudAoKICAgICAgICAgICAgICB0aGlzLnNldEFjY291bnQoMCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJDb3VsZCBub3QgY29ubmVjdCB0byBjb250cmFjdCBvciBjaGFpbi4iKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMSwgMTBdXSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHJldHVybiBfc3RhcnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gc3RhcnQ7CiAgfSgpLAoKICAvKgogIAluYW1lOiBhc3luYyBmdW5jdGlvbigpIHsKICAJCWNvbnN0IHsgbmFtZSB9ID0gdGhpcy5tZXRhLm1ldGhvZHM7CiAgCQljb25zdCBjb250cmFjdE5hbWUgPSBhd2FpdCBuYW1lKCkuY2FsbCgpOwogIAkJCiAgCQkvLyB1cGRhdGUgcGFnZQogIAl9LAogIAogIAlzeW1ib2w6IGFzeW5jIGZ1bmN0aW9uKCkgewogIAkJY29uc3QgeyBzeW1ib2wgfSA9IHRoaXMubWV0YS5tZXRob2RzOwogIAkJY29uc3QgY29udHJhY3RTeW1ib2wgPSBhd2FpdCBuYW1lKCkuY2FsbCgpOwogIAkJCiAgCQkvLyB1cGRhdGUgcGFnZQogIAl9LAogIAogIAlkZWNpbWFsczogYXN5bmMgZnVuY3Rpb24oKSB7CiAgCQljb25zdCB7IGRlY2ltYWxzIH0gPSB0aGlzLm1ldGEubWV0aG9kczsKICAJCWNvbnN0IGNvbnRyYWN0RGVjaW1hbHMgPSBhd2FpdCBkZWNpbWFscygpLmNhbGwoKTsKICAJCQogIAkJLy8gdXBkYXRlIHBhZ2UKICAJfSwKICAKICAJdG90YWxTdXBwbHk6IGFzeW5jIGZ1bmN0aW9uKCkgewogIAkJY29uc3QgeyB0b3RhbFN1cHBseSB9ID0gdGhpcy5tZXRhLm1ldGhvZHM7CiAgCQljb25zdCBzdXBwbHkgPSBhd2FpdCB0b3RhbFN1cHBseSgpLmNhbGwoKTsKICAJCQogIAkJLy8gdXBkYXRlIHBhZ2UKICAJfSwKICAKICAJYmFsYW5jZU9mOiBhc3luYyBmdW5jdGlvbigpIHsKICAJCWNvbnN0IG93bmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhbGFuY2Utb3duZXIiKS52YWx1ZTsKICAJCWNvbnN0IHsgYmFsYW5jZU9mIH0gPSB0aGlzLm1ldGEubWV0aG9kczsKICAJCWJhbGFuY2UgPSBhd2FpdCBiYWxhbmNlT2Yob3duZXIpLmNvbnN0YWxsKCk7CiAgCQljb25zdCBiYWxhbmNlID0gYXdhaXQgYmFsYW5jZU9mKG93bmVyKS5jYWxsKCk7CiAgCQkKICAJCS8vIHVwZGF0ZSBwYWdlCiAgCX0sCiAgKi8KICB0cmFuc2ZlcjogZnVuY3Rpb24gKCkgewogICAgdmFyIF90cmFuc2ZlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciB0bywgdmFsdWUsIHRyYW5zZmVyOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRyYW5zZmVyLXRvIikudmFsdWU7CiAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidHJhbnNmZXItdmFsdWUiKS52YWx1ZSk7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIkluaXRpYXRpbmcgdHJhbnNhY3Rpb24uLi4gKHBsZWFzZSB3YWl0KSIpOwogICAgICAgICAgICAgIHRyYW5zZmVyID0gdGhpcy5tZXRhLm1ldGhvZHMudHJhbnNmZXI7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiB0cmFuc2Zlcih0bywgdmFsdWUpLmNhbGwoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cygiVHJhbnNhY3Rpb24gY29tcGxldGUhIik7CiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQmFsYW5jZSgpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKCkgewogICAgICByZXR1cm4gX3RyYW5zZmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIHRyYW5zZmVyOwogIH0oKSwKICB0cmFuc2ZlckZyb206IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdHJhbnNmZXJGcm9tID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGZyb20sIHRvLCB2YWx1ZSwgdHJhbnNmZXJGcm9tOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGZyb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZWdhdGUtZnJvbSIpLnZhbHVlOwogICAgICAgICAgICAgIHRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGVnYXRlLXRvIikudmFsdWU7CiAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZWdhdGUtdmFsdWUiKS52YWx1ZSk7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoIkluaXRpYXRpbmcgdHJhbnNhY3Rpb24uLi4gKHBsZWFzZSB3YWl0KSIpOwogICAgICAgICAgICAgIHRyYW5zZmVyRnJvbSA9IHRoaXMubWV0YS5tZXRob2RzLnRyYW5zZmVyRnJvbTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpLmNhbGwoKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cygiVHJhbnNhY3Rpb24gY29tcGxldGUhIik7CiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQmFsYW5jZSgpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgpIHsKICAgICAgcmV0dXJuIF90cmFuc2ZlckZyb20uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gdHJhbnNmZXJGcm9tOwogIH0oKSwKICBhcHByb3ZlOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2FwcHJvdmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgc3BlbmRlciwgdmFsdWUsIGFwcHJvdmU7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3BlbmRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHByb3ZlLXNwZW5kZXIiKS52YWx1ZTsKICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHByb3ZlLXZhbHVlIikudmFsdWUpOwogICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCJQcm9jZXNzaW5nLi4uIChwbGVhc2Ugd2FpdCkiKTsKICAgICAgICAgICAgICBhcHByb3ZlID0gdGhpcy5tZXRhLm1ldGhvZHMuYXBwcm92ZTsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmUoc3BlbmRlciwgdmFsdWUpLmNhbGwoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cygiQ29tcGxldGUhIik7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gYXBwcm92ZSgpIHsKICAgICAgcmV0dXJuIF9hcHByb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGFwcHJvdmU7CiAgfSgpLAogIGFsbG93YW5jZTogZnVuY3Rpb24gKCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgc3BlbmRlciwgb3duZXIsIGFsbG93YW5jZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzcGVuZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbG93YW5jZS1zcGVuZGVyIikudmFsdWU7CiAgICAgICAgICAgICAgb3duZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxsb3dhbmNlLW93bmVyIikudmFsdWU7CiAgICAgICAgICAgICAgYWxsb3dhbmNlID0gdGhpcy5tZXRhLm1ldGhvZHMuYWxsb3dhbmNlOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYWxsb3dhbmNlKG93bmVyLCBzcGVuZGVyKS5jYWxsKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKCkgewogICAgICByZXR1cm4gX2FsbG93YW5jZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBhbGxvd2FuY2U7CiAgfSgpLAogIHJlZnJlc2hCYWxhbmNlOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZnJlc2hCYWxhbmNlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgdmFyIGJhbGFuY2VPZiwgYmFsYW5jZSwgYmFsYW5jZUVsZW1lbnRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGJhbGFuY2VPZiA9IHRoaXMubWV0YS5tZXRob2RzLmJhbGFuY2VPZjsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VPZih0aGlzLmFjY291bnQpLmNhbGwoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBiYWxhbmNlID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgLy8gdXBkYXRlIHBhZ2UKICAgICAgICAgICAgICBiYWxhbmNlRWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5SWQoImJhbGFuY2UiKTsKICAgICAgICAgICAgICBiYWxhbmNlRWxlbWVudHMuaW5uZXJIVE1MID0gYmFsYW5jZTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiByZWZyZXNoQmFsYW5jZSgpIHsKICAgICAgcmV0dXJuIF9yZWZyZXNoQmFsYW5jZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiByZWZyZXNoQmFsYW5jZTsKICB9KCksCiAgc2V0QWNjb3VudDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9zZXRBY2NvdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhpZHgpIHsKICAgICAgdmFyIHdlYjMsIGFjY291bnRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHdlYjMgPSB0aGlzLndlYjM7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiB3ZWIzLmV0aC5nZXRBY2NvdW50cygpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGFjY291bnRzID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChpZHggPD0gYWNjb3VudHMubGVuZ3RoICYmIGlkeCA+PSAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQgPSBhY2NvdW50c1tpZHhdOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnQgPSBhY2NvdW50c1swXTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNywgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gc2V0QWNjb3VudChfeCkgewogICAgICByZXR1cm4gX3NldEFjY291bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gc2V0QWNjb3VudDsKICB9KCksCiAgc2V0U3RhdHVzOiBmdW5jdGlvbiBzZXRTdGF0dXMobWVzc2FnZSkgewogICAgLy8gdXBkYXRlIHBhZ2UKICAgIHZhciBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzIik7CiAgICBzdGF0dXMuaW5uZXJIVE1MID0gbWVzc2FnZTsKICB9Cn07CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24gKCkgewogIEdjb2luLndlYjMgPSBuZXcgV2ViMyhuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKCJodHRwOi8vMTI3LjAuMC4xOjc1NDUiKSk7CiAgR2NvaW4uc3RhcnQoKTsKfSk7"},{"version":3,"sources":["/Users/mac/文稿/fyp/GcoinProject/application/app/js/gcoin.js"],"names":["Web3","GcoinArtifact","Gcoin","web3","account","meta","start","eth","net","getId","networkId","deployedNetwork","networks","Contract","abi","address","setAccount","console","error","transfer","to","document","getElementById","value","parseInt","setStatus","methods","call","refreshBalance","transferFrom","from","approve","spender","allowance","owner","balanceOf","balance","balanceElements","getElementsById","innerHTML","idx","getAccounts","accounts","length","message","status","window","addEventListener","providers","HttpProvider"],"mappings":"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","sourcesContent":["import Web3 from \"web3\";\nimport GcoinArtifact from \"../../build/contracts/Gcoin.json\";\n\nconst Gcoin = {\n\tweb3: null,\n\taccount: null,\n\tmeta: null,\n\n\tstart: async function() {\n\t\tconst { web3 } = this;\n\n\t\ttry {\n\t\t\t// get contract instance\n\t\t\tconst networkId = await web3.eth.net.getId();\n\t\t\tconst deployedNetwork = GcoinArtifact.networks[networkId];\n\t\t\tthis.meta = new web3.eth.Contract(\n\t\t\t\tGcoinArtifact.abi, \n\t\t\t\tdeployedNetwork.address,\n\t\t\t);\n\n\t\t\t// get account\n\t\t\tthis.setAccount(0);\n\t\t\t\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Could not connect to contract or chain.\");\n\t\t}\n\t},\n\n/*\n\tname: async function() {\n\t\tconst { name } = this.meta.methods;\n\t\tconst contractName = await name().call();\n\t\t\n\t\t// update page\n\t},\n\n\tsymbol: async function() {\n\t\tconst { symbol } = this.meta.methods;\n\t\tconst contractSymbol = await name().call();\n\t\t\n\t\t// update page\n\t},\n\n\tdecimals: async function() {\n\t\tconst { decimals } = this.meta.methods;\n\t\tconst contractDecimals = await decimals().call();\n\t\t\n\t\t// update page\n\t},\n\n\ttotalSupply: async function() {\n\t\tconst { totalSupply } = this.meta.methods;\n\t\tconst supply = await totalSupply().call();\n\t\t\n\t\t// update page\n\t},\n\n\tbalanceOf: async function() {\n\t\tconst owner = document.getElementById(\"balance-owner\").value;\n\t\tconst { balanceOf } = this.meta.methods;\n\t\tbalance = await balanceOf(owner).constall();\n\t\tconst balance = await balanceOf(owner).call();\n\t\t\n\t\t// update page\n\t},\n*/\n\n\ttransfer: async function() {\n\t\tconst to = document.getElementById(\"transfer-to\").value;\n\t\tconst value =  parseInt(document.getElementById(\"transfer-value\").value);\n\n\t\tthis.setStatus(\"Initiating transaction... (please wait)\");\n\n\t\tconst { transfer } = this.meta.methods;\n\t\tawait transfer(to, value).call();\n\n\t\tthis.setStatus(\"Transaction complete!\");\n\t\tthis.refreshBalance();\n\t},\n\n\ttransferFrom: async function() {\n\t\tconst from = document.getElementById(\"delegate-from\").value;\n\t\tconst to = document.getElementById(\"delegate-to\").value;\n\t\tconst value = parseInt(document.getElementById(\"delegate-value\").value);\n\n\t\tthis.setStatus(\"Initiating transaction... (please wait)\");\n\n\t\tconst { transferFrom } = this.meta.methods;\n\t\tawait transferFrom(from, to, value).call();\n\n\t\tthis.setStatus(\"Transaction complete!\");\n\t\tthis.refreshBalance();\n\t},\n\n\tapprove: async function() {\n\t\tconst spender = document.getElementById(\"approve-spender\").value;\n\t\tconst value = parseInt(document.getElementById(\"approve-value\").value);\n\n\t\tthis.setStatus(\"Processing... (please wait)\");\n\n\t\tconst { approve } = this.meta.methods;\n\t\tawait approve(spender, value).call();\n\n\t\tthis.setStatus(\"Complete!\");\n\t},\n\n\tallowance: async function() {\n\t\tconst spender = document.getElementById(\"allowance-spender\").value;\n\t\tconst owner = document.getElementById(\"allowance-owner\").value;\n\n\t\tconst { allowance } = this.meta.methods;\n\t\tawait allowance(owner, spender).call();\n\t},\n\n\trefreshBalance: async function() {\n\t\tconst { balanceOf } = this.meta.methods;\n\t\tconst balance = await balanceOf(this.account).call();\n\n\t\t// update page\n\t\tconst balanceElements = document.getElementsById(\"balance\");\n\t\tbalanceElements.innerHTML = balance;\n\t},\n\n\tsetAccount: async function(idx) {\n\t\tconst { web3 } = this;\n\t\t\n\t\tconst accounts = await web3.eth.getAccounts();\n\t\tif (idx <= accounts.length && idx >= 0) {\n\t\t\tthis.account = accounts[idx];\n\t\t} else {\n\t\t\tthis.account = accounts[0];\n\t\t}\n\t},\n\n\tsetStatus: function(message) {\n\t\t// update page\n\t\tconst status = document.getElementById(\"status\");\n\t\tstatus.innerHTML = message;\n\t},\n\n}\n\nwindow.addEventListener(\"load\", function() {\n\tGcoin.web3 = new Web3(\n\t\tnew Web3.providers.HttpProvider(\"http://127.0.0.1:7545\"),\n\t);\n\n\tGcoin.start();\n})\n\n\n\n"]}]}